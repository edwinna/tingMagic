<link rel="stylesheet" type="text/css" href="style/main.css">
<header class="photo-top"> 
    <div class="title">收录美好图片</div>
    <div class="red"><img src="images/love.png" width="25" height="25"></div>
</header>
  <div class="photolist"></div>
	<ul class="flex-container">
        		<li class="item"><img src="images/1.jpg" alt="夏天的飞鸟"></li>
        		<li class="item"><img src="images/2.jpg" alt="秋天的黄叶"></li>
        		<li class="item"><img src="images/3.jpg" alt="pt3"></li>
        		<li class="item"><img src="images/4.jpg" alt="pt4"></li>
        		<li class="item"><img src="images/5.jpg" alt="pt5"></li>
        		<li class="item"><img src="images/6.jpg" alt="pt6"></li>
                <li class="item"><img src="images/7.jpg" alt="pt7"></li>
                <li class="item"><img src="images/8.jpg" alt="pt8"></li>
                <li class="item"><img src="images/9.jpg" alt="pt9"></li>
                <li class="item"><img src="images/10.jpg" alt="pt10"></li>
                <li class="item"><img src="images/11.jpg" alt="pt11"></li>
                <li class="item"><img src="images/12.jpg" alt="pt12"></li>
                <li class="item"><img src="images/13.jpg" alt="pt13"></li>
                <li class="item"><img src="images/14.jpg" alt="pt14"></li>
                <li class="item"><img src="images/15.jpg" alt="pt15"></li>
                <li class="item"><img src="images/16.jpg" alt="pt16"></li>
                <li class="item"><img src="images/17.jpg" alt="pt12"></li>
                <li class="item"><img src="images/18.jpg" alt="pt13"></li>
                <li class="item"><img src="images/19.jpg" alt="pt14"></li>
                <li class="item"><img src="images/20.jpg" alt="pt15"></li>
                <li class="item"><img src="images/21.jpg" alt="pt16"></li>
                <li class="item"><img src="images/22.jpg" alt="pt17"></li>
                <li class="item"><img src="images/23.jpg" alt="pt18"></li>
                <li class="item"><img src="images/24.jpg" alt="pt19"></li>
                <li class="item"><img src="images/25.jpg" alt="pt20"></li>
                <li class="item"><img src="images/26.jpg" alt="pt21"></li>
                <li class="item"><img src="images/27.jpg" alt="pt22"></li>
                <li class="item"><img src="images/28.jpg" alt="pt23"></li>
                <li class="item"><img src="images/29.jpg" alt="pt24"></li>
                <li class="item"><img src="images/30.jpg" alt="pt25"></li>
	</ul>
<ul class="nav-container">
	<a href="#1" data-page="1"></a>
	<a href="#1" data-page="2"></a>
	<a href="#1" data-page="3"></a>
	<a href="#1" data-page="4"></a>
	<a href="#1" data-page="5"></a>
</ul>
<script type="text/javascript" src="http://script.suning.cn/javascript/mobileweb/jquery.min.js"></script>
<script type="text/javascript">
        $(function(){
      	    var itemlist = $(".flex-container");
      	    var capcity = 6;
      	    var itemContainer = $(".photolist");
      	    var navigation = $(".nav-container a");
      	    var rotations =['flipped-vertical-bottom','flipped-vertical-top','flipped-horizontal-left','flipped-horizontal-right'];
      	    for(var i = 0;i < capcity; i++){
      	    	var itemImg = itemlist.children('li:eq('+i+')').children("img");
      	    	var itemSrc = itemImg.attr("src");
      	    	var itemAlt = itemImg.attr("alt");
      	    	var item = '<div style="background:url('+itemSrc+')"><span>'+itemAlt+'</span></div>';
      	    	itemContainer.append(item);
      	    }
      	    navigation.on("click", function(e){
      	    	e.preventDefault();
      	    	navigation.removeClass("selected");
      	    	$(this).addClass("selected");
      	    	page = $(this).attr("data-page");
                for(var i = 0; i < capcity; i++){
                    var item = itemContainer.children("div:eq(" + i + ")");
                    var random  = Math.floor( Math.random() * ( 3 - 0 + 1 ) );
                    var animation  = rotations[random];
                    item.addClass('animated ' + animation);
                        setTimeout(function(index){
                            var curNum = (page == 1) ? index : ((page -1 ) *  capcity + index);
                            console.log(curNum);
                            var curImg = itemlist.children('li:eq(' + curNum +')').children("img");
                            var curSrc = curImg.attr("src");
                            var curAlt = curImg.attr("alt");
                            console.log(item);
                            item.css({"background":"url(" + curSrc + ")"});
                            item.find("span").text(curAlt);
                        }(i),200);
                    item.on('transitionend webkitTransitionEnd MSTransitionEnd oTransitionEnd', function() { 
                        $(this).removeClass();
                    });
                }
      	    });
        });
</script>  






